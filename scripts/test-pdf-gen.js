import PDFDocument from 'pdfkit';
import { writeFileSync } from 'fs';

const doc = new PDFDocument();
const bufs = [];
doc.on('data', c => bufs.push(c));
doc.on('end', () => {
  const buf = Buffer.concat(bufs);
  writeFileSync('test_output.pdf', buf);
  console.log('PDF written to test_output.pdf');
  console.log('Size:', buf.length);
  console.log('First 50 bytes (hex):', buf.slice(0, 50).toString('hex'));
});

doc.text('This is a test PDF generated by pdfkit.');
doc.text('It contains some sample content.');
doc.text('');
doc.text('If pdf-parse can read this successfully, the issue might be specific.');
doc.fontSize(10);
doc.text('Line 1');
doc.text('Line 2');
doc.text('Line 3');

doc.end();
